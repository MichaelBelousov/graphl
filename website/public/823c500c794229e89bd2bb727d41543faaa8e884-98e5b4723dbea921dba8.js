(self.webpackChunkdialogue_middleware_website=self.webpackChunkdialogue_middleware_website||[]).push([[199],{7430:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.r(t),r.d(t,{Ide:function(){return x},Types:function(){return E}});var s,c,u=r(4506),l=(r(9479),r.p+"77dfe4c873bdedd36983.wasm?url"),f=Object.defineProperty,d=Object.getOwnPropertyNames,h={};((e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})})(h,{default:()=>c});var p,m,v=(p={"zig-out/bin/wasm-opt.js"(){var e;e="file:///home/mike/projects/graph-lang-old/ide-prototype/dist/graphl-ide-web.es.js",s=async function(t){void 0===t&&(t={});var n,o,i,s,c=t,l=new Promise(((e,t)=>{n=e,o=t})),f="object"==typeof window,d="undefined"!=typeof WorkerGlobalScope,h=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process.type,Object.assign({},c)),p=[],m="./this.program",v=(e,t)=>{throw t},w="";(f||d)&&(d?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),e&&(w=e),w=w.startsWith("blob:")?"":w.slice(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=async e=>{var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)});var g=c.print||console.log.bind(console),y=c.printErr||console.error.bind(console);Object.assign(c,h),h=null,c.arguments&&(p=c.arguments),c.thisProgram&&(m=c.thisProgram);var E,_,b,x,k,S,T,A,R=c.wasmBinary,F=!1;function P(){var e=E.buffer;c.HEAP8=b=new Int8Array(e),c.HEAP16=k=new Int16Array(e),c.HEAPU8=x=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAP32=S=new Int32Array(e),c.HEAPU32=T=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=new Float64Array(e),c.HEAP64=A=new BigInt64Array(e),c.HEAPU64=new BigUint64Array(e)}var D,C=0,U=null;function L(e){var t;C++,null===(t=c.monitorRunDependencies)||void 0===t||t.call(c,C)}function N(e){var t;if(C--,null===(t=c.monitorRunDependencies)||void 0===t||t.call(c,C),0==C&&U){var r=U;U=null,r()}}function O(e){var t;null===(t=c.onAbort)||void 0===t||t.call(c,e),y(e="Aborted("+e+")"),F=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw o(r),r}function M(){return c.locateFile?(e="wasm-opt.wasm",c.locateFile?c.locateFile(e,w):w+e):new URL(r(7761),r.b).href;var e}async function I(e){if(!R)try{var t=await i(e);return new Uint8Array(t)}catch{}return function(e){if(e==D&&R)return new Uint8Array(R);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}(e)}async function B(e,t,r){if(!e&&"function"==typeof WebAssembly.instantiateStreaming)try{var n=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,r)}catch(o){y(`wasm streaming compile failed: ${o}`),y("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var r=await I(e);return await WebAssembly.instantiate(r,t)}catch(o){y(`failed to asynchronously prepare wasm: ${o}`),O(o)}}(t,r)}let j=function(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e};var z=e=>{for(;e.length>0;)e.shift()(c)},$=[],X=e=>$.unshift(e),H=[],G=e=>H.unshift(e),W=c.noExitRuntime||!0,V=e=>qe(e),Y=()=>Je(),q="undefined"!=typeof TextDecoder?new TextDecoder:void 0,K=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=NaN);for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.buffer&&q)return q.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i},J=(e,t)=>e?K(x,e,t):"",Q=[],Z=0,ee=0;let te=function(){function e(e){this.excPtr=e,this.ptr=e-24}var t=e.prototype;return t.set_type=function(e){T[this.ptr+4>>2]=e},t.get_type=function(){return T[this.ptr+4>>2]},t.set_destructor=function(e){T[this.ptr+8>>2]=e},t.get_destructor=function(){return T[this.ptr+8>>2]},t.set_caught=function(e){e=e?1:0,b[this.ptr+12]=e},t.get_caught=function(){return 0!=b[this.ptr+12]},t.set_rethrown=function(e){e=e?1:0,b[this.ptr+13]=e},t.get_rethrown=function(){return 0!=b[this.ptr+13]},t.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},t.set_adjusted_ptr=function(e){T[this.ptr+16>>2]=e},t.get_adjusted_ptr=function(){return T[this.ptr+16>>2]},e}();var re,ne=e=>Ye(e),oe=e=>{var t=ee;if(!t)return ne(0),0;var r=new te(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return ne(0),t;for(var o of e){if(0===o||o===n)break;var i=r.ptr+16;if(et(o,n,i))return ne(o),t}return ne(n),t},ie=()=>{var e=S[+be.varargs>>2];return be.varargs+=4,e},ae=ie,se={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=se.isAbs(e),r="/"===e.slice(-1);return(e=se.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=se.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.slice(0,-1)),r+n):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return se.normalize(t.join("/"))},join2:(e,t)=>se.normalize(e+"/"+t)},ce=e=>{(ce=e=>crypto.getRandomValues(e))(e)},ue={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?r<0||arguments.length<=r?void 0:arguments[r]:_e.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=se.isAbs(n)}return(t?"/":"")+(e=se.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=ue.resolve(e).slice(1),t=ue.resolve(t).slice(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var c=[];for(s=a;s<n.length;s++)c.push("..");return(c=c.concat(o.slice(a))).join("/")}},le=[],fe=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},de=(e,t,r,n)=>{if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o},he=(e,t,r)=>{var n=r>0?r:fe(e)+1,o=new Array(n),i=de(e,o,0,o.length);return t&&(o.length=i),o},pe={ttys:[],init(){},shutdown(){},register(e,t){pe.ttys[e]={input:[],output:[],ops:t},_e.registerDevice(e,pe.stream_ops)},stream_ops:{open(e){var t=pe.ttys[e.node.rdev];if(!t)throw new _e.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new _e.ErrnoError(60);for(var i=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(c){throw new _e.ErrnoError(29)}if(void 0===s&&0===i)throw new _e.ErrnoError(6);if(null==s)break;i++,t[r+a]=s}return i&&(e.node.atime=Date.now()),i},write(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new _e.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch(a){throw new _e.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char(e){return(()=>{if(!le.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e)return null;le=he(e,!0)}return le.shift()})()},put_char(e,t){null===t||10===t?(g(K(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){var t;(null===(t=e.output)||void 0===t?void 0:t.length)>0&&(g(K(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,r){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){null===t||10===t?(y(K(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){var t;(null===(t=e.output)||void 0===t?void 0:t.length)>0&&(y(K(e.output)),e.output=[])}}},me=e=>{O()},ve={ops_table:null,mount(e){return ve.createNode(null,"/",16895,0)},createNode(e,t,r,n){if(_e.isBlkdev(r)||_e.isFIFO(r))throw new _e.ErrnoError(63);ve.ops_table||={dir:{node:{getattr:ve.node_ops.getattr,setattr:ve.node_ops.setattr,lookup:ve.node_ops.lookup,mknod:ve.node_ops.mknod,rename:ve.node_ops.rename,unlink:ve.node_ops.unlink,rmdir:ve.node_ops.rmdir,readdir:ve.node_ops.readdir,symlink:ve.node_ops.symlink},stream:{llseek:ve.stream_ops.llseek}},file:{node:{getattr:ve.node_ops.getattr,setattr:ve.node_ops.setattr},stream:{llseek:ve.stream_ops.llseek,read:ve.stream_ops.read,write:ve.stream_ops.write,allocate:ve.stream_ops.allocate,mmap:ve.stream_ops.mmap,msync:ve.stream_ops.msync}},link:{node:{getattr:ve.node_ops.getattr,setattr:ve.node_ops.setattr,readlink:ve.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ve.node_ops.getattr,setattr:ve.node_ops.setattr},stream:_e.chrdev_stream_ops}};var o=_e.createNode(e,t,r,n);return _e.isDir(o.mode)?(o.node_ops=ve.ops_table.dir.node,o.stream_ops=ve.ops_table.dir.stream,o.contents={}):_e.isFile(o.mode)?(o.node_ops=ve.ops_table.file.node,o.stream_ops=ve.ops_table.file.stream,o.usedBytes=0,o.contents=null):_e.isLink(o.mode)?(o.node_ops=ve.ops_table.link.node,o.stream_ops=ve.ops_table.link.stream):_e.isChrdev(o.mode)&&(o.node_ops=ve.ops_table.chrdev.node,o.stream_ops=ve.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[t]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=_e.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,_e.isDir(e.mode)?t.size=4096:_e.isFile(e.mode)?t.size=e.usedBytes:_e.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])null!=t[r]&&(e[r]=t[r]);void 0!==t.size&&ve.resizeFileStorage(e,t.size)},lookup(e,t){throw ve.doesNotExistError},mknod(e,t,r,n){return ve.createNode(e,t,r,n)},rename(e,t,r){var n;try{n=_e.lookupNode(t,r)}catch(i){}if(n){if(_e.isDir(e.mode))for(var o in n.contents)throw new _e.ErrnoError(55);_e.hashRemoveNode(n)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=_e.lookupNode(e,t);for(var n in r.contents)throw new _e.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir(e){return[".",".."].concat((0,u.A)(Object.keys(e.contents)))},symlink(e,t,r){var n=ve.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!_e.isLink(e.mode))throw new _e.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var s=0;s<a;s++)t[r+s]=i[o+s];return a},write(e,t,r,n,o,i){if(t.buffer===b.buffer&&(i=!1),!n)return 0;var a=e.node;if(a.mtime=a.ctime=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(ve.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)a.contents[o+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&_e.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new _e.ErrnoError(28);return n},allocate(e,t,r){ve.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap(e,t,r,n,o){if(!_e.isFile(e.node.mode))throw new _e.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||!s||s.buffer!==b.buffer){if(a=!0,!(i=me()))throw new _e.ErrnoError(48);s&&((r>0||r+t<s.length)&&(s=s.subarray?s.subarray(r,r+t):Array.prototype.slice.call(s,r,r+t)),b.set(s,i))}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync(e,t,r,n,o){return ve.stream_ops.write(e,t,0,n,r,!1),0}}},we=(e,t,r,n,o,i)=>{_e.createDataFile(e,t,r,n,o,i)},ge=c.preloadPlugins||[],ye=(e,t,r,n,o,a,s,c,u,l)=>{var f=t?ue.resolve(se.join2(e,t)):e;function d(r){function i(r){null==l||l(),c||we(e,t,r,n,o,u),null==a||a(),N()}((e,t,r,n)=>{"undefined"!=typeof Browser&&Browser.init();var o=!1;return ge.forEach((i=>{o||i.canHandle(t)&&(i.handle(e,t,r,n),o=!0)})),o})(r,f,i,(()=>{null==s||s(),N()}))||i(r)}L(),"string"==typeof r?(async e=>{var t=await i(e);return new Uint8Array(t)})(r).then(d,s):d(r)},Ee=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},_e={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:function(e){this.name="ErrnoError",this.errno=e},FSStream:function(){return a((function(){this.shared={}}),[{key:"object",get:function(){return this.node},set:function(e){this.node=e}},{key:"isRead",get:function(){return 1!=(2097155&this.flags)}},{key:"isWrite",get:function(){return!!(2097155&this.flags)}},{key:"isAppend",get:function(){return 1024&this.flags}},{key:"flags",get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},{key:"position",get:function(){return this.shared.position},set:function(e){this.shared.position=e}}])}(),FSNode:function(){return a((function(e,t,r,n){this.node_ops={},this.stream_ops={},this.readMode=365,this.writeMode=146,this.mounted=null,e||(e=this),this.parent=e,this.mount=e.mount,this.id=_e.nextInode++,this.name=t,this.mode=r,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}),[{key:"read",get:function(){return(this.mode&this.readMode)===this.readMode},set:function(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}},{key:"write",get:function(){return(this.mode&this.writeMode)===this.writeMode},set:function(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}},{key:"isFolder",get:function(){return _e.isDir(this.mode)}},{key:"isDevice",get:function(){return _e.isChrdev(this.mode)}}])}(),lookupPath(e,t){if(void 0===t&&(t={}),!e)throw new _e.ErrnoError(44);t.follow_mount??=!0,se.isAbs(e)||(e=_e.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var n=e.split("/").filter((e=>!!e)),o=_e.root,i="/",a=0;a<n.length;a++){var s=a===n.length-1;if(s&&t.parent)break;if("."!==n[a])if(".."!==n[a]){i=se.join2(i,n[a]);try{o=_e.lookupNode(o,n[a])}catch(u){if(44===(null==u?void 0:u.errno)&&s&&t.noent_okay)return{path:i};throw u}if(!_e.isMountpoint(o)||s&&!t.follow_mount||(o=o.mounted.root),_e.isLink(o.mode)&&(!s||t.follow)){if(!o.node_ops.readlink)throw new _e.ErrnoError(52);var c=o.node_ops.readlink(o);se.isAbs(c)||(c=se.dirname(i)+"/"+c),e=c+"/"+n.slice(a+1).join("/");continue e}}else i=se.dirname(i),o=o.parent}return{path:i,node:o}}throw new _e.ErrnoError(32)},getPath(e){for(var t;;){if(_e.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%_e.nameTable.length},hashAddNode(e){var t=_e.hashName(e.parent.id,e.name);e.name_next=_e.nameTable[t],_e.nameTable[t]=e},hashRemoveNode(e){var t=_e.hashName(e.parent.id,e.name);if(_e.nameTable[t]===e)_e.nameTable[t]=e.name_next;else for(var r=_e.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=_e.mayLookup(e);if(r)throw new _e.ErrnoError(r);for(var n=_e.hashName(e.id,t),o=_e.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return _e.lookup(e,t)},createNode(e,t,r,n){var o=new _e.FSNode(e,t,r,n);return _e.hashAddNode(o),o},destroyNode(e){_e.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return 32768==(61440&e)},isDir(e){return 16384==(61440&e)},isLink(e){return 40960==(61440&e)},isChrdev(e){return 8192==(61440&e)},isBlkdev(e){return 24576==(61440&e)},isFIFO(e){return 4096==(61440&e)},isSocket(e){return!(49152&~e)},flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions(e,t){return _e.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup(e){if(!_e.isDir(e.mode))return 54;var t=_e.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){if(!_e.isDir(e.mode))return 54;try{return _e.lookupNode(e,t),20}catch(r){}return _e.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=_e.lookupNode(e,t)}catch(i){return i.errno}var o=_e.nodePermissions(e,"wx");if(o)return o;if(r){if(!_e.isDir(n.mode))return 54;if(_e.isRoot(n)||_e.getPath(n)===_e.cwd())return 10}else if(_e.isDir(n.mode))return 31;return 0},mayOpen(e,t){return e?_e.isLink(e.mode)?32:_e.isDir(e.mode)&&("r"!==_e.flagsToPermissionString(t)||576&t)?31:_e.nodePermissions(e,_e.flagsToPermissionString(t)):44},checkOpExists(e,t){if(!e)throw new _e.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=_e.MAX_OPEN_FDS;e++)if(!_e.streams[e])return e;throw new _e.ErrnoError(33)},getStreamChecked(e){var t=_e.getStream(e);if(!t)throw new _e.ErrnoError(8);return t},getStream:e=>_e.streams[e],createStream(e,t){return void 0===t&&(t=-1),e=Object.assign(new _e.FSStream,e),-1==t&&(t=_e.nextfd()),e.fd=t,_e.streams[t]=e,e},closeStream(e){_e.streams[e]=null},dupStream(e,t){var r,n;void 0===t&&(t=-1);var o=_e.createStream(e,t);return null===(r=o.stream_ops)||void 0===r||null===(n=r.dup)||void 0===n||n.call(r,o),o},doSetAttr(e,t,r){var n=null==e?void 0:e.stream_ops.setattr,o=n?e:t;n??=t.node_ops.setattr,_e.checkOpExists(n,63),n(o,r)},chrdev_stream_ops:{open(e){var t,r,n=_e.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,null===(t=(r=e.stream_ops).open)||void 0===t||t.call(r,e)},llseek(){throw new _e.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){_e.devices[e]={stream_ops:t}},getDevice:e=>_e.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,(0,u.A)(n.mounts))}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),_e.syncFSRequests++,_e.syncFSRequests>1&&y(`warning: ${_e.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=_e.getMounts(_e.root.mount),n=0;function o(e){return _e.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((t=>{if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount(e,t,r){var n,o="/"===r,i=!r;if(o&&_e.root)throw new _e.ErrnoError(10);if(!o&&!i){var a=_e.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,_e.isMountpoint(n))throw new _e.ErrnoError(10);if(!_e.isDir(n.mode))throw new _e.ErrnoError(54)}var s={type:e,opts:t,mountpoint:r,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,o?_e.root=c:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),c},unmount(e){var t=_e.lookupPath(e,{follow_mount:!1});if(!_e.isMountpoint(t.node))throw new _e.ErrnoError(28);var r=t.node,n=r.mounted,o=_e.getMounts(n);Object.keys(_e.nameTable).forEach((e=>{for(var t=_e.nameTable[e];t;){var r=t.name_next;o.includes(t.mount)&&_e.destroyNode(t),t=r}})),r.mounted=null;var i=r.mount.mounts.indexOf(n);r.mount.mounts.splice(i,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,r){var n=_e.lookupPath(e,{parent:!0}).node,o=se.basename(e);if(!o)throw new _e.ErrnoError(28);if("."===o||".."===o)throw new _e.ErrnoError(20);var i=_e.mayCreate(n,o);if(i)throw new _e.ErrnoError(i);if(!n.node_ops.mknod)throw new _e.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},statfs(e){return _e.statfsNode(_e.lookupPath(e,{follow:!0}).node)},statfsStream(e){return _e.statfsNode(e.node)},statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:_e.nextInode,ffree:_e.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create(e,t){return void 0===t&&(t=438),t&=4095,t|=32768,_e.mknod(e,t,0)},mkdir(e,t){return void 0===t&&(t=511),t&=1023,t|=16384,_e.mknod(e,t,0)},mkdirTree(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{_e.mkdir(n,t)}catch(i){if(20!=i.errno)throw i}}},mkdev(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,_e.mknod(e,t,r)},symlink(e,t){if(!ue.resolve(e))throw new _e.ErrnoError(44);var r=_e.lookupPath(t,{parent:!0}).node;if(!r)throw new _e.ErrnoError(44);var n=se.basename(t),o=_e.mayCreate(r,n);if(o)throw new _e.ErrnoError(o);if(!r.node_ops.symlink)throw new _e.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename(e,t){var r,n,o=se.dirname(e),i=se.dirname(t),a=se.basename(e),s=se.basename(t);if(r=_e.lookupPath(e,{parent:!0}).node,n=_e.lookupPath(t,{parent:!0}).node,!r||!n)throw new _e.ErrnoError(44);if(r.mount!==n.mount)throw new _e.ErrnoError(75);var c,u=_e.lookupNode(r,a),l=ue.relative(e,i);if("."!==l.charAt(0))throw new _e.ErrnoError(28);if("."!==(l=ue.relative(t,o)).charAt(0))throw new _e.ErrnoError(55);try{c=_e.lookupNode(n,s)}catch(h){}if(u!==c){var f=_e.isDir(u.mode),d=_e.mayDelete(r,a,f);if(d)throw new _e.ErrnoError(d);if(d=c?_e.mayDelete(n,s,f):_e.mayCreate(n,s))throw new _e.ErrnoError(d);if(!r.node_ops.rename)throw new _e.ErrnoError(63);if(_e.isMountpoint(u)||c&&_e.isMountpoint(c))throw new _e.ErrnoError(10);if(n!==r&&(d=_e.nodePermissions(r,"w")))throw new _e.ErrnoError(d);_e.hashRemoveNode(u);try{r.node_ops.rename(u,n,s),u.parent=n}catch(h){throw h}finally{_e.hashAddNode(u)}}},rmdir(e){var t=_e.lookupPath(e,{parent:!0}).node,r=se.basename(e),n=_e.lookupNode(t,r),o=_e.mayDelete(t,r,!0);if(o)throw new _e.ErrnoError(o);if(!t.node_ops.rmdir)throw new _e.ErrnoError(63);if(_e.isMountpoint(n))throw new _e.ErrnoError(10);t.node_ops.rmdir(t,r),_e.destroyNode(n)},readdir(e){var t=_e.lookupPath(e,{follow:!0}).node;return _e.checkOpExists(t.node_ops.readdir,54)(t)},unlink(e){var t=_e.lookupPath(e,{parent:!0}).node;if(!t)throw new _e.ErrnoError(44);var r=se.basename(e),n=_e.lookupNode(t,r),o=_e.mayDelete(t,r,!1);if(o)throw new _e.ErrnoError(o);if(!t.node_ops.unlink)throw new _e.ErrnoError(63);if(_e.isMountpoint(n))throw new _e.ErrnoError(10);t.node_ops.unlink(t,r),_e.destroyNode(n)},readlink(e){var t=_e.lookupPath(e).node;if(!t)throw new _e.ErrnoError(44);if(!t.node_ops.readlink)throw new _e.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,t){var r=_e.lookupPath(e,{follow:!t}).node;return _e.checkOpExists(r.node_ops.getattr,63)(r)},fstat(e){var t=_e.getStreamChecked(e),r=t.node,n=t.stream_ops.getattr,o=n?t:r;return n??=r.node_ops.getattr,_e.checkOpExists(n,63),n(o)},lstat(e){return _e.stat(e,!0)},doChmod(e,t,r,n){_e.doSetAttr(e,t,{mode:4095&r|-4096&t.mode,ctime:Date.now(),dontFollow:n})},chmod(e,t,r){var n;n="string"==typeof e?_e.lookupPath(e,{follow:!r}).node:e,_e.doChmod(null,n,t,r)},lchmod(e,t){_e.chmod(e,t,!0)},fchmod(e,t){var r=_e.getStreamChecked(e);_e.doChmod(r,r.node,t,!1)},doChown(e,t,r){_e.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,n){var o;o="string"==typeof e?_e.lookupPath(e,{follow:!n}).node:e,_e.doChown(null,o,n)},lchown(e,t,r){_e.chown(e,t,r,!0)},fchown(e,t,r){var n=_e.getStreamChecked(e);_e.doChown(n,n.node,!1)},doTruncate(e,t,r){if(_e.isDir(t.mode))throw new _e.ErrnoError(31);if(!_e.isFile(t.mode))throw new _e.ErrnoError(28);var n=_e.nodePermissions(t,"w");if(n)throw new _e.ErrnoError(n);_e.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new _e.ErrnoError(28);var r;r="string"==typeof e?_e.lookupPath(e,{follow:!0}).node:e,_e.doTruncate(null,r,t)},ftruncate(e,t){var r=_e.getStreamChecked(e);if(t<0||!(2097155&r.flags))throw new _e.ErrnoError(28);_e.doTruncate(r,r.node,t)},utime(e,t,r){var n=_e.lookupPath(e,{follow:!0}).node;_e.checkOpExists(n.node_ops.setattr,63)(n,{atime:t,mtime:r})},open(e,t,r){if(void 0===r&&(r=438),""===e)throw new _e.ErrnoError(44);var n,o;if(r=64&(t="string"==typeof t?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error(`Unknown file open mode: ${e}`);return t})(t):t)?4095&r|32768:0,"object"==typeof e)n=e;else{o=e.endsWith("/");var i=_e.lookupPath(e,{follow:!(131072&t),noent_okay:!0});n=i.node,e=i.path}var a=!1;if(64&t)if(n){if(128&t)throw new _e.ErrnoError(20)}else{if(o)throw new _e.ErrnoError(31);n=_e.mknod(e,511|r,0),a=!0}if(!n)throw new _e.ErrnoError(44);if(_e.isChrdev(n.mode)&&(t&=-513),65536&t&&!_e.isDir(n.mode))throw new _e.ErrnoError(54);if(!a){var s=_e.mayOpen(n,t);if(s)throw new _e.ErrnoError(s)}512&t&&!a&&_e.truncate(n,0),t&=-131713;var u=_e.createStream({node:n,path:_e.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),a&&_e.chmod(n,511&r),!c.logReadFiles||1&t||e in _e.readFiles||(_e.readFiles[e]=1),u},close(e){if(_e.isClosed(e))throw new _e.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{_e.closeStream(e.fd)}e.fd=null},isClosed(e){return null===e.fd},llseek(e,t,r){if(_e.isClosed(e))throw new _e.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new _e.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new _e.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,o){if(n<0||o<0)throw new _e.ErrnoError(28);if(_e.isClosed(e))throw new _e.ErrnoError(8);if(1==(2097155&e.flags))throw new _e.ErrnoError(8);if(_e.isDir(e.node.mode))throw new _e.ErrnoError(31);if(!e.stream_ops.read)throw new _e.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new _e.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write(e,t,r,n,o,i){if(n<0||o<0)throw new _e.ErrnoError(28);if(_e.isClosed(e))throw new _e.ErrnoError(8);if(!(2097155&e.flags))throw new _e.ErrnoError(8);if(_e.isDir(e.node.mode))throw new _e.ErrnoError(31);if(!e.stream_ops.write)throw new _e.ErrnoError(28);e.seekable&&1024&e.flags&&_e.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new _e.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=s),s},allocate(e,t,r){if(_e.isClosed(e))throw new _e.ErrnoError(8);if(t<0||r<=0)throw new _e.ErrnoError(28);if(!(2097155&e.flags))throw new _e.ErrnoError(8);if(!_e.isFile(e.node.mode)&&!_e.isDir(e.node.mode))throw new _e.ErrnoError(43);if(!e.stream_ops.allocate)throw new _e.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap(e,t,r,n,o){if(2&n&&!(2&o)&&2!=(2097155&e.flags))throw new _e.ErrnoError(2);if(1==(2097155&e.flags))throw new _e.ErrnoError(2);if(!e.stream_ops.mmap)throw new _e.ErrnoError(43);if(!t)throw new _e.ErrnoError(28);return e.stream_ops.mmap(e,t,r,n,o)},msync(e,t,r,n,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new _e.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t){if(void 0===t&&(t={}),t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error(`Invalid encoding type "${t.encoding}"`);var r,n=_e.open(e,t.flags),o=_e.stat(e).size,i=new Uint8Array(o);return _e.read(n,i,0,o,0),"utf8"===t.encoding?r=K(i):"binary"===t.encoding&&(r=i),_e.close(n),r},writeFile(e,t,r){void 0===r&&(r={}),r.flags=r.flags||577;var n=_e.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(fe(t)+1),i=de(t,o,0,o.length);_e.write(n,o,0,i,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");_e.write(n,t,0,t.byteLength,void 0,r.canOwn)}_e.close(n)},cwd:()=>_e.currentPath,chdir(e){var t=_e.lookupPath(e,{follow:!0});if(null===t.node)throw new _e.ErrnoError(44);if(!_e.isDir(t.node.mode))throw new _e.ErrnoError(54);var r=_e.nodePermissions(t.node,"x");if(r)throw new _e.ErrnoError(r);_e.currentPath=t.path},createDefaultDirectories(){_e.mkdir("/tmp"),_e.mkdir("/home"),_e.mkdir("/home/web_user")},createDefaultDevices(){_e.mkdir("/dev"),_e.registerDevice(_e.makedev(1,3),{read:()=>0,write:(e,t,r,n,o)=>n,llseek:()=>0}),_e.mkdev("/dev/null",_e.makedev(1,3)),pe.register(_e.makedev(5,0),pe.default_tty_ops),pe.register(_e.makedev(6,0),pe.default_tty1_ops),_e.mkdev("/dev/tty",_e.makedev(5,0)),_e.mkdev("/dev/tty1",_e.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(ce(e),t=e.byteLength),e[--t]);_e.createDevice("/dev","random",r),_e.createDevice("/dev","urandom",r),_e.mkdir("/dev/shm"),_e.mkdir("/dev/shm/tmp")},createSpecialDirectories(){_e.mkdir("/proc");var e=_e.mkdir("/proc/self");_e.mkdir("/proc/self/fd"),_e.mount({mount(){var t=_e.createNode(e,"fd",16895,73);return t.stream_ops={llseek:ve.stream_ops.llseek},t.node_ops={lookup(e,t){var r=+t,n=_e.getStreamChecked(r),o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path},id:r+1};return o.parent=o,o},readdir(){return Array.from(_e.streams.entries()).filter((e=>{let[t,r]=e;return r})).map((e=>{let[t,r]=e;return t.toString()}))}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?_e.createDevice("/dev","stdin",e):_e.symlink("/dev/tty","/dev/stdin"),t?_e.createDevice("/dev","stdout",null,t):_e.symlink("/dev/tty","/dev/stdout"),r?_e.createDevice("/dev","stderr",null,r):_e.symlink("/dev/tty1","/dev/stderr"),_e.open("/dev/stdin",0),_e.open("/dev/stdout",1),_e.open("/dev/stderr",1)},staticInit(){_e.nameTable=new Array(4096),_e.mount(ve,{},"/"),_e.createDefaultDirectories(),_e.createDefaultDevices(),_e.createSpecialDirectories(),_e.filesystems={MEMFS:ve}},init(e,t,r){_e.initialized=!0,e??=c.stdin,t??=c.stdout,r??=c.stderr,_e.createStandardStreams(e,t,r)},quit(){_e.initialized=!1;for(var e=0;e<_e.streams.length;e++){var t=_e.streams[e];t&&_e.close(t)}},findObject(e,t){var r=_e.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{e=(n=_e.lookupPath(e,{follow:!t})).path}catch(o){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=_e.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=se.basename(e),n=_e.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(o){r.error=o.errno}return r},createPath(e,t,r,n){e="string"==typeof e?e:_e.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=se.join2(e,i);try{_e.mkdir(a)}catch(s){if(20!=s.errno)throw s}e=a}}return a},createFile(e,t,r,n,o){var i=se.join2("string"==typeof e?e:_e.getPath(e),t),a=Ee(n,o);return _e.create(i,a)},createDataFile(e,t,r,n,o,i){var a=t;e&&(e="string"==typeof e?e:_e.getPath(e),a=t?se.join2(e,t):e);var s=Ee(n,o),c=_e.create(a,s);if(r){if("string"==typeof r){for(var u=new Array(r.length),l=0,f=r.length;l<f;++l)u[l]=r.charCodeAt(l);r=u}_e.chmod(c,146|s);var d=_e.open(c,577);_e.write(d,r,0,r.length,0,i),_e.close(d),_e.chmod(c,s)}},createDevice(e,t,r,n){var o=se.join2("string"==typeof e?e:_e.getPath(e),t),i=Ee(!!r,!!n);_e.createDevice.major??=64;var a=_e.makedev(_e.createDevice.major++,0);return _e.registerDevice(a,{open(e){e.seekable=!1},close(e){var t;null!=n&&null!==(t=n.buffer)&&void 0!==t&&t.length&&n(10)},read(e,t,n,o,i){for(var a=0,s=0;s<o;s++){var c;try{c=r()}catch(u){throw new _e.ErrnoError(29)}if(void 0===c&&0===a)throw new _e.ErrnoError(6);if(null==c)break;a++,t[n+s]=c}return a&&(e.node.atime=Date.now()),a},write(e,t,r,o,i){for(var a=0;a<o;a++)try{n(t[r+a])}catch(s){throw new _e.ErrnoError(29)}return o&&(e.node.mtime=e.node.ctime=Date.now()),a}}),_e.mkdev(o,i,a)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=s(e.url),e.usedBytes=e.contents.length}catch(t){throw new _e.ErrnoError(29)}},createLazyFile(e,t,r,n,o){let i=function(){function e(){this.lengthKnown=!1,this.chunks=[]}var t=e.prototype;return t.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},t.setDataGetter=function(e){this.getter=e},t.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=n);var s=this;s.setDataGetter((e=>{var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,n-1),void 0===s.chunks[e]&&(s.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):he(o.responseText||"",!0)})(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&n||(a=n=1,n=this.getter(0).length,a=n,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},a(e,[{key:"length",get:function(){return this.lengthKnown||this.cacheLength(),this._length}},{key:"chunkSize",get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}])}();if("undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s={isDevice:!1,contents:new i}}else s={isDevice:!1,url:r};var c=_e.createFile(e,t,s,n,o);s.contents?c.contents=s.contents:s.url&&(c.contents=null,c.url=s.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={};function l(e,t,r,n,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var s=0;s<a;s++)t[r+s]=i[o+s];else for(s=0;s<a;s++)t[r+s]=i.get(o+s);return a}return Object.keys(c.stream_ops).forEach((e=>{var t=c.stream_ops[e];u[e]=function(){return _e.forceLoadFile(c),t.apply(void 0,arguments)}})),u.read=(e,t,r,n,o)=>(_e.forceLoadFile(c),l(e,t,r,n,o)),u.mmap=(e,t,r,n,o)=>{_e.forceLoadFile(c);var i=me();if(!i)throw new _e.ErrnoError(48);return l(e,b,i,t,r),{ptr:i,allocated:!0}},c.stream_ops=u,c}},be={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(se.isAbs(t))return t;var n;if(n=-100===e?_e.cwd():be.getStreamFromFD(e).path,0==t.length){if(!r)throw new _e.ErrnoError(44);return n}return n+"/"+t},writeStat(e,t){S[e>>2]=t.dev,S[e+4>>2]=t.mode,T[e+8>>2]=t.nlink,S[e+12>>2]=t.uid,S[e+16>>2]=t.gid,S[e+20>>2]=t.rdev,A[e+24>>3]=BigInt(t.size),S[e+32>>2]=4096,S[e+36>>2]=t.blocks;var r=t.atime.getTime(),n=t.mtime.getTime(),o=t.ctime.getTime();return A[e+40>>3]=BigInt(Math.floor(r/1e3)),T[e+48>>2]=r%1e3*1e3*1e3,A[e+56>>3]=BigInt(Math.floor(n/1e3)),T[e+64>>2]=n%1e3*1e3*1e3,A[e+72>>3]=BigInt(Math.floor(o/1e3)),T[e+80>>2]=o%1e3*1e3*1e3,A[e+88>>3]=BigInt(t.ino),0},writeStatFs(e,t){S[e+4>>2]=t.bsize,S[e+40>>2]=t.bsize,S[e+8>>2]=t.blocks,S[e+12>>2]=t.bfree,S[e+16>>2]=t.bavail,S[e+20>>2]=t.files,S[e+24>>2]=t.ffree,S[e+28>>2]=t.fsid,S[e+44>>2]=t.flags,S[e+36>>2]=t.namelen},doMsync(e,t,r,n,o){if(!_e.isFile(t.node.mode))throw new _e.ErrnoError(43);if(2&n)return 0;var i=x.slice(e,e+r);_e.msync(t,i,o,r,n)},getStreamFromFD(e){return _e.getStreamChecked(e)},varargs:void 0,getStr(e){return J(e)}},xe=0,ke={},Se=e=>{if(e instanceof j||"unwind"==e)return _;v(0,e)},Te=()=>W||xe>0,Ae=e=>{var t;_=e,Te()||(null===(t=c.onExit)||void 0===t||t.call(c,e),F=!0),v(0,new j(e))},Re=(e,t)=>{_=e,Ae(e)},Fe=Re,Pe=e=>{if(!F)try{e(),(()=>{if(!Te())try{Fe(_)}catch(e){Se(e)}})()}catch(t){Se(t)}},De=()=>performance.now(),Ce=(e,t,r)=>de(e,x,t,r),Ue=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e),Le=e=>{var t=(e-E.buffer.byteLength+65535)/65536|0;try{return E.grow(t),P(),1}catch(r){}},Ne={},Oe=()=>{if(!Oe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(var t in Ne)void 0===Ne[t]?delete e[t]:e[t]=Ne[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);Oe.strings=r}return Oe.strings},Me=e=>Ke(e),Ie=[],Be=e=>{var t=Ie[e];return t||(e>=Ie.length&&(Ie.length=e+1),Ie[e]=t=re.get(e)),t},je=_e.createPath,ze=_e.createLazyFile,$e=_e.createDevice;_e.createPreloadedFile=ye,_e.staticInit(),c.FS_createPath=_e.createPath,c.FS_createDataFile=_e.createDataFile,c.FS_createPreloadedFile=_e.createPreloadedFile,c.FS_unlink=_e.unlink,c.FS_createLazyFile=_e.createLazyFile,c.FS_createDevice=_e.createDevice,ve.doesNotExistError=new _e.ErrnoError(44),ve.doesNotExistError.stack="<generic error, no stack>";var Xe={b:(e,t,r,n)=>O(`Assertion failed: ${J(e)}, at: `+[t?J(t):"unknown filename",r,n?J(n):"unknown function"]),x:e=>{var t=new te(e);return t.get_caught()||(t.set_caught(!0),Z--),t.set_rethrown(!1),Q.push(t),Ze(e),tt(e)},F:()=>{Ve(0,0);var e=Q.pop();Qe(e.excPtr),ee=0},a:()=>oe([]),l:e=>oe([e]),E:(e,t)=>oe([e,t]),D:(e,t,r)=>oe([e,t,r]),va:()=>{var e=Q.pop();e||O("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Q.push(e),e.set_rethrown(!0),e.set_caught(!1),Z++),ee=t},H:(e,t,r)=>{throw new te(e).init(t,r),Z++,ee=e},Ta:()=>Z,i:e=>{throw ee||(ee=e),ee},xa:function(e,t,r){be.varargs=r;try{var n=be.getStreamFromFD(e);switch(t){case 0:if((o=ie())<0)return-28;for(;_e.streams[o];)o++;return _e.dupStream(n,o).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var o=ie();return n.flags|=o,0;case 12:return o=ae(),k[o+0>>1]=2,0}return-28}catch(i){if(void 0===_e||"ErrnoError"!==i.name)throw i;return-i.errno}},Ra:function(e,t,r){be.varargs=r;try{var n=be.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var o=n.tty.ops.ioctl_tcgets(n),i=ae();S[i>>2]=o.c_iflag||0,S[i+4>>2]=o.c_oflag||0,S[i+8>>2]=o.c_cflag||0,S[i+12>>2]=o.c_lflag||0;for(var a=0;a<32;a++)b[i+a+17]=o.c_cc[a]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){i=ae();var s=S[i>>2],c=S[i+4>>2],u=S[i+8>>2],l=S[i+12>>2],f=[];for(a=0;a<32;a++)f.push(b[i+a+17]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:s,c_oflag:c,c_cflag:u,c_lflag:l,c_cc:f})}return 0;case 21519:return n.tty?(i=ae(),S[i>>2]=0,0):-59;case 21520:return n.tty?-28:-59;case 21531:return i=ae(),_e.ioctl(n,t,i);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var d=n.tty.ops.ioctl_tiocgwinsz(n.tty);i=ae(),k[i>>1]=d[0],k[i+2>>1]=d[1]}return 0;default:return-28}}catch(h){if(void 0===_e||"ErrnoError"!==h.name)throw h;return-h.errno}},Sa:function(e,t,r,n){be.varargs=n;try{t=be.getStr(t),t=be.calculateAt(e,t);var o=n?ie():0;return _e.open(t,r,o).fd}catch(i){if(void 0===_e||"ErrnoError"!==i.name)throw i;return-i.errno}},Ha:()=>O(""),La:()=>{W=!1,xe=0},Ma:(e,t)=>{if(ke[e]&&(clearTimeout(ke[e].id),delete ke[e]),!t)return 0;var r=setTimeout((()=>{delete ke[e],Pe((()=>We(e,De())))}),t);return ke[e]={id:r,timeout_ms:t},0},Na:(e,t,r,n)=>{var o=(new Date).getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1),s=i.getTimezoneOffset(),c=a.getTimezoneOffset(),u=Math.max(s,c);T[e>>2]=60*u,S[t>>2]=Number(s!=c);var l=e=>{var t=e>=0?"-":"+",r=Math.abs(e);return`UTC${t}${String(Math.floor(r/60)).padStart(2,"0")}${String(r%60).padStart(2,"0")}`},f=l(s),d=l(c);c<s?(Ce(f,r,17),Ce(d,n,17)):(Ce(f,n,17),Ce(d,r,17))},Ua:function(e,t,r){if(t=Ue(t),!((n=e)>=0&&n<=3))return 28;var n,o;o=0===e?Date.now():De();var i=Math.round(1e3*o*1e3);return A[r>>3]=BigInt(i),0},Wa:e=>{var t,r,n=x.length,o=2147483648;if((e>>>=0)>o)return!1;for(var i=1;i<=4;i*=2){var a=n*(1+.2/i);a=Math.min(a,e+100663296);var s=Math.min(o,(t=Math.max(e,a),r=65536,Math.ceil(t/r)*r));if(Le(s))return!0}return!1},Aa:(e,t)=>{var r=0;return Oe().forEach(((n,o)=>{var i=t+r;T[e+4*o>>2]=i,((e,t)=>{for(var r=0;r<e.length;++r)b[t++]=e.charCodeAt(r);b[t]=0})(n,i),r+=n.length+1})),0},Ca:(e,t)=>{var r=Oe();T[e>>2]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),T[t>>2]=n,0},ga:Fe,wa:function(e){try{var t=be.getStreamFromFD(e);return _e.close(t),0}catch(r){if(void 0===_e||"ErrnoError"!==r.name)throw r;return r.errno}},Qa:function(e,t,r,n){try{var o=((e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=T[t>>2],s=T[t+4>>2];t+=8;var c=_e.read(e,b,a,s,n);if(c<0)return-1;if(o+=c,c<s)break;void 0!==n&&(n+=c)}return o})(be.getStreamFromFD(e),t,r);return T[n>>2]=o,0}catch(i){if(void 0===_e||"ErrnoError"!==i.name)throw i;return i.errno}},Oa:function(e,t,r,n){t=Ue(t);try{if(isNaN(t))return 61;var o=be.getStreamFromFD(e);return _e.llseek(o,t,r),A[n>>3]=BigInt(o.position),o.getdents&&0===t&&0===r&&(o.getdents=null),0}catch(i){if(void 0===_e||"ErrnoError"!==i.name)throw i;return i.errno}},Pa:function(e,t,r,n){try{var o=((e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=T[t>>2],s=T[t+4>>2];t+=8;var c=_e.write(e,b,a,s,n);if(c<0)return-1;if(o+=c,c<s)break;void 0!==n&&(n+=c)}return o})(be.getStreamFromFD(e),t,r);return T[n>>2]=o,0}catch(i){if(void 0===_e||"ErrnoError"!==i.name)throw i;return i.errno}},T:function(e){var t=Y();try{return Be(e)()}catch(r){if(V(t),r!==r+0)throw r;Ve(1,0)}},f:function(e,t){var r=Y();try{return Be(e)(t)}catch(n){if(V(r),n!==n+0)throw n;Ve(1,0)}},Fa:function(e,t,r){var n=Y();try{return Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},c:function(e,t,r){var n=Y();try{return Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},h:function(e,t,r,n){var o=Y();try{return Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},p:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},ya:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},t:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},L:function(e,t,r,n,o,i,a){var s=Y();try{return Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},aa:function(e,t,r,n,o,i,a,s){var c=Y();try{return Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},r:function(e,t,r,n,o,i,a,s,c){var u=Y();try{return Be(e)(t,r,n,o,i,a,s,c)}catch(l){if(V(u),l!==l+0)throw l;Ve(1,0)}},ba:function(e,t,r,n,o,i,a,s,c,u){var l=Y();try{return Be(e)(t,r,n,o,i,a,s,c,u)}catch(f){if(V(l),f!==f+0)throw f;Ve(1,0)}},X:function(e,t,r,n,o,i,a,s,c,u,l,f){var d=Y();try{return Be(e)(t,r,n,o,i,a,s,c,u,l,f)}catch(h){if(V(d),h!==h+0)throw h;Ve(1,0)}},Ka:function(e,t,r,n,o,i,a,s,c,u,l,f,d,h){var p=Y();try{return Be(e)(t,r,n,o,i,a,s,c,u,l,f,d,h)}catch(m){if(V(p),m!==m+0)throw m;Ve(1,0)}},Ja:function(e,t,r,n,o,i,a,s,c,u,l,f,d,h,p,m){var v=Y();try{return Be(e)(t,r,n,o,i,a,s,c,u,l,f,d,h,p,m)}catch(w){if(V(v),w!==w+0)throw w;Ve(1,0)}},ha:function(e,t,r,n,o,i,a,s,c,u){var l=Y();try{return Be(e)(t,r,n,o,i,a,s,c,u)}catch(f){if(V(l),f!==f+0)throw f;Ve(1,0)}},la:function(e,t,r,n,o,i,a,s){var c=Y();try{return Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},$:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},A:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},o:function(e,t,r,n){var o=Y();try{return Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},ja:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},G:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},Ga:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},m:function(e,t,r){var n=Y();try{return Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},J:function(e,t,r,n){var o=Y();try{return Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},na:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},Da:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},ca:function(e,t,r,n,o,i,a){var s=Y();try{return Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},ka:function(e,t,r,n,o,i,a,s){var c=Y();try{return Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},P:function(e,t,r){var n=Y();try{return Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},B:function(e,t,r,n,o){var i=Y();try{return Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},za:function(e){var t=Y();try{return Be(e)()}catch(r){if(V(t),r!==r+0)throw r;return Ve(1,0),0n}},s:function(e,t){var r=Y();try{return Be(e)(t)}catch(n){if(V(r),n!==n+0)throw n;return Ve(1,0),0n}},Va:function(e,t,r){var n=Y();try{return Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;return Ve(1,0),0n}},K:function(e,t,r,n,o,i){var a=Y();try{return Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;return Ve(1,0),0n}},qa:function(e,t,r,n){var o=Y();try{return Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;return Ve(1,0),0n}},j:function(e){var t=Y();try{Be(e)()}catch(r){if(V(t),r!==r+0)throw r;Ve(1,0)}},k:function(e,t){var r=Y();try{Be(e)(t)}catch(n){if(V(r),n!==n+0)throw n;Ve(1,0)}},Ba:function(e,t,r){var n=Y();try{Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},pa:function(e,t,r,n){var o=Y();try{Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},oa:function(e,t,r,n){var o=Y();try{Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},d:function(e,t,r){var n=Y();try{Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},ra:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},e:function(e,t,r,n){var o=Y();try{Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},g:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},q:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},R:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},I:function(e,t,r,n,o,i,a,s){var c=Y();try{Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},W:function(e,t,r,n,o,i,a,s,c){var u=Y();try{Be(e)(t,r,n,o,i,a,s,c)}catch(l){if(V(u),l!==l+0)throw l;Ve(1,0)}},U:function(e,t,r,n,o,i,a,s,c,u,l){var f=Y();try{Be(e)(t,r,n,o,i,a,s,c,u,l)}catch(d){if(V(f),d!==d+0)throw d;Ve(1,0)}},da:function(e,t,r,n,o,i,a,s,c,u,l,f,d,h,p,m){var v=Y();try{Be(e)(t,r,n,o,i,a,s,c,u,l,f,d,h,p,m)}catch(w){if(V(v),w!==w+0)throw w;Ve(1,0)}},Z:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},ia:function(e,t,r,n,o,i,a,s,c){var u=Y();try{Be(e)(t,r,n,o,i,a,s,c)}catch(l){if(V(u),l!==l+0)throw l;Ve(1,0)}},O:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},n:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},ua:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},ma:function(e,t,r,n,o,i,a,s,c){var u=Y();try{Be(e)(t,r,n,o,i,a,s,c)}catch(l){if(V(u),l!==l+0)throw l;Ve(1,0)}},V:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},v:function(e,t,r,n){var o=Y();try{Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},y:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},ta:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},Y:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},S:function(e,t,r,n,o,i,a,s){var c=Y();try{Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},fa:function(e,t,r,n,o,i,a,s){var c=Y();try{Be(e)(t,r,n,o,i,a,s)}catch(u){if(V(c),u!==u+0)throw u;Ve(1,0)}},z:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},_:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},C:function(e,t,r){var n=Y();try{Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},M:function(e,t,r,n){var o=Y();try{Be(e)(t,r,n)}catch(i){if(V(o),i!==i+0)throw i;Ve(1,0)}},Q:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},u:function(e,t,r,n,o,i){var a=Y();try{Be(e)(t,r,n,o,i)}catch(s){if(V(a),s!==s+0)throw s;Ve(1,0)}},ea:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},sa:function(e,t,r,n,o,i,a){var s=Y();try{Be(e)(t,r,n,o,i,a)}catch(c){if(V(s),c!==c+0)throw c;Ve(1,0)}},w:function(e,t,r,n,o){var i=Y();try{Be(e)(t,r,n,o)}catch(a){if(V(i),a!==a+0)throw a;Ve(1,0)}},Ea:function(e,t,r){var n=Y();try{Be(e)(t,r)}catch(o){if(V(n),o!==o+0)throw o;Ve(1,0)}},N:e=>e,Ia:Ae},He=await async function(){function e(e,t){return He=e.exports,E=He.Xa,P(),re=He._a,N(),He}L();var t={a:Xe};if(c.instantiateWasm)return new Promise(((r,n)=>{c.instantiateWasm(t,((t,n)=>{e(t),r(t.exports)}))}));D??=M();try{var r=await B(R,D,t);return e(r.instance)}catch(n){return o(n),Promise.reject(n)}}(),Ge=(He.Ya,c._main=He.Za),We=He.$a,Ve=He.ab,Ye=He.bb,qe=He.cb,Ke=He.db,Je=He.eb,Qe=He.fb,Ze=He.gb,et=He.hb,tt=He.ib;function rt(e){void 0===e&&(e=[]);var t=Ge;e.unshift(m);var r=e.length,n=Me(4*(r+1)),o=n;e.forEach((e=>{T[o>>2]=(e=>{var t=fe(e)+1,r=Me(t);return Ce(e,r,t),r})(e),o+=4})),T[o>>2]=0;try{var i=t(r,n);return Re(i),i}catch(a){return Se(a)}}function nt(e){function t(){var e;c.calledRun=!0,F||(c.noFSInit||_e.initialized||_e.init(),pe.init(),He.Ya(),_e.ignorePermissions=!1,n(c),null===(e=c.onRuntimeInitialized)||void 0===e||e.call(c),c.noInitialRun,function(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)X(c.postRun.shift());z($)}())}void 0===e&&(e=p),C>0?U=nt:(function(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G(c.preRun.shift());z(H)}(),C>0?U=nt:c.setStatus?(c.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>c.setStatus("")),1),t()}),1)):t())}if(c.run=nt,c.addRunDependency=L,c.removeRunDependency=N,c.callMain=rt,c.FS_createPreloadedFile=ye,c.FS_unlink=e=>_e.unlink(e),c.FS_createPath=je,c.FS_createDevice=$e,c.FS=_e,c.FS_createDataFile=we,c.FS_createLazyFile=ze,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return nt(),l},c=s}},function(){return p&&(m=(0,p[d(p)[0]])(p=0)),m}),w=async e=>{const t=document.createElement("a");t.style.display="none",t.href=(e=>{const t=new Blob([e]);return URL.createObjectURL(t)})(e.content),e.fileName&&(t.download=e.fileName),e.appendGuessedFileExtension,document.body.append(t),t.click(),t.remove()},g=async e=>await new Promise(((t,r)=>{const n=document.createElement("div");n.style.display="none",n.innerHTML='<input type="file" id="temp-upload" />';const o=n.children[0];o.onchange=function(){try{if(null===o.files)throw Error("No files in input");const r=o.files.item(0);if(null===r)throw Error("First file in input was null");const n=r,i=new FileReader;i.onloadend=function(e){var n;(null===(n=e.target)||void 0===n?void 0:n.readyState)===FileReader.DONE&&t({name:r.name,content:e.target.result})},"text"===e.type?i.readAsText(n,"utf8"):i.readAsDataURL(n)}catch(n){r(n)}},o.click()}));function y(e,t){if(void 0===t&&(t="Assertion failed"),!e)throw Error(t)}var E={i32:0,i64:1,f32:2,f64:3,string:4,code:5,bool:6},_=256,b=65536;function x(e,t){var r,n;const o=new Map;let i,a,s,c,u,f=!0;const d=new Map;let p=1,m=!1,x=null,k=[0,0];const S=new WebAssembly.Memory({initial:50,maximum:200,shared:!0});let T,A,R,F,P="",D=[],C=[];function U(){0==C.length?i.canvas.focus():(R.style.left=window.scrollX+e.getBoundingClientRect().left+C[0]+"px",R.style.top=window.scrollY+e.getBoundingClientRect().top+C[1]+"px",R.style.width=C[2]+"px",R.style.height=C[3]+"px",R.focus())}function L(e){let t=D.findIndex((t=>t[0]===e));return t<0&&(t=D.length,D.push([e,t])),t}const N=new TextDecoder,O=new TextEncoder,M={env:{wasm_opt_transfer:S,wasm_about_webgl2:()=>f?1:0,wasm_panic:(e,t)=>{let r=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));throw alert(r),Error(r)},wasm_log_write:(e,t)=>{P+=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t))},wasm_log_flush:()=>{console.log(P),P=""},wasm_now(){return performance.now()},wasm_sleep(e){!async function(e){await new Promise((t=>setTimeout(t,e)))}(e)},wasm_pixel_width(){return i.drawingBufferWidth},wasm_pixel_height(){return i.drawingBufferHeight},wasm_frame_buffer(){return m?1:0},wasm_canvas_width(){return i.canvas.clientWidth},wasm_canvas_height(){return i.canvas.clientHeight},wasm_textureCreate(e,t,r,n){const o=new Uint8Array(A.instance.exports.memory.buffer,e,t*r*4),a=i.createTexture(),s=p;return p+=1,d.set(s,[a,t,r]),i.bindTexture(i.TEXTURE_2D,a),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,r,0,i.RGBA,i.UNSIGNED_BYTE,o),f&&i.generateMipmap(i.TEXTURE_2D),0==n?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR)),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),s},wasm_textureCreateTarget(e,t,r){const n=i.createTexture(),o=p;return p+=1,d.set(o,[n,e,t]),i.bindTexture(i.TEXTURE_2D,n),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,t,0,i.RGBA,i.UNSIGNED_BYTE,null),0==r?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR)),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),o},wasm_renderTarget(e){0===e?(m=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),k=[i.drawingBufferWidth,i.drawingBufferHeight],i.viewport(0,0,k[0],k[1]),i.scissor(0,0,k[0],k[1])):(m=!0,i.bindFramebuffer(i.FRAMEBUFFER,x),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,d.get(e)[0],0),k=[d.get(e)[1],d.get(e)[2]],i.viewport(0,0,k[0],k[1]),i.scissor(0,0,k[0],k[1]))},wasm_textureRead(e,t,r,n){const o=d.get(e)[0];i.bindFramebuffer(i.FRAMEBUFFER,x),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,o,0);var a=new Uint8Array(A.instance.exports.memory.buffer,t,r*n*4);i.readPixels(0,0,r,n,i.RGBA,i.UNSIGNED_BYTE,a,0),i.bindFramebuffer(i.FRAMEBUFFER,null)},wasm_textureDestroy(e){const t=d.get(e)[0];d.delete(e),i.deleteTexture(t)},wasm_renderGeometry(e,t,r,n,o,l,f,h,p,v,w,g,y,E){1===v&&i.scissor(w,g,y,E),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);const _=new Uint16Array(A.instance.exports.memory.buffer,t,r/2);i.bufferData(i.ELEMENT_ARRAY_BUFFER,_,i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,s);const b=new Uint8Array(A.instance.exports.memory.buffer,n,o);i.bufferData(i.ARRAY_BUFFER,b,i.STATIC_DRAW);let x=new Float32Array(16);x[0]=2/k[0],x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=m?2/k[1]:-2/k[1],x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=-1,x[13]=m?-1:1,x[14]=0,x[15]=1,i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(u.attribLocations.vertexPosition,2,i.FLOAT,!1,l,f),i.enableVertexAttribArray(u.attribLocations.vertexPosition),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(u.attribLocations.vertexColor,4,i.UNSIGNED_BYTE,!1,l,h),i.enableVertexAttribArray(u.attribLocations.vertexColor),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(u.attribLocations.textureCoord,2,i.FLOAT,!1,l,p),i.enableVertexAttribArray(u.attribLocations.textureCoord),i.useProgram(c),i.uniformMatrix4fv(u.uniformLocations.matrix,!1,x),0!=e?(i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,d.get(e)[0]),i.uniform1i(u.uniformLocations.useTex,1)):i.uniform1i(u.uniformLocations.useTex,0),i.uniform1i(u.uniformLocations.uSampler,0),i.drawElements(i.TRIANGLES,_.length,i.UNSIGNED_SHORT,0),1===v&&i.scissor(0,0,k[0],k[1])},wasm_cursor(e,t){let r=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));i.canvas.style.cursor=r},wasm_text_input(e,t,r,n){C=r>0&&n>0?[e,t,r,n]:[]},wasm_open_url:(e,t)=>{let r=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));location.href=r},wasm_clipboardTextSet:(e,t)=>{if(0==t)return;let r=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));navigator.clipboard?navigator.clipboard.writeText(r):(R.value=r,R.focus(),R.select(),document.execCommand("copy"),R.value="",U())},wasm_add_noto_font:()=>{(async function(e){let t=await fetch(e),r=await t.blob();return new Uint8Array(await r.arrayBuffer())})("NotoSansKR-Regular.ttf").then((e=>{const t=A.instance.exports.gpa_u8(e.length);new Uint8Array(A.instance.exports.memory.buffer,t,e.length).set(e),A.instance.exports.new_font(t,e.length)}))},onExportCurrentSource:(e,t)=>{var r;if(0===t)return;const n=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));console.log("compiled:"),console.log(n),null===(r=globalThis._monacoSyncHook)||void 0===r||r.call(globalThis,n),w({fileName:"project.scm",content:n})},onExportCompiled:(e,t)=>{if(0===t)return;const r=N.decode(new Uint8Array(A.instance.exports.memory.buffer,e,t));w({fileName:"compiled.wat",content:r})},onRequestLoadSource(){g({type:"text"}).then((e=>{const t=e.content.length,r=A.instance.exports.graphl_init_start;y(O.encodeInto(e.content,new Uint8Array(A.instance.exports.memory.buffer,r,t)).written===t,"failed to write file to transfer buffer");return A.instance.exports.onReceiveLoadedSource(r,t)}))},onClickReportIssue(){window.open("https://docs.google.com/forms/d/e/1FAIpQLSf2dRcS7Nrv4Ut9GGmxIDVuIpzYnKR7CyHBMUkJQwdjenAXAA/viewform?usp=header","_blank").focus()},runCurrentWat:async(e,r)=>{var n;if(0===r)return;const i=new Uint8Array(A.instance.exports.memory.buffer,e,r);const a=function(){const e="/input.wat",t="/optimized.wasm";T.FS.writeFile(e,i);const r=T.callMain([e,"-o",t]);if(0!==r)throw Error(`non-zero return: ${r}`);return T.FS.readFile(t,{encoding:"binary"})}();let s;const c={env:{callUserFunc_JSON_R(e,t){o.get(e);throw Error("json not yet supported")},callUserFunc_code_R(e,t,r){const n=o.get(e);if(void 0===n||1!==n.func.parameters.length||n.func.parameters[0].type!==E.code||0!==n.func.results.length)throw Error(`bad user function #${e}(${null==n?void 0:n.name})`);const i=N.decode(new Uint8Array(s.instance.exports.memory.buffer,r,t)),a=JSON.parse(i);n.func.impl(a)},callUserFunc_code_R_string(e,t,r){const n=o.get(e);if(void 0===n||1!==n.func.parameters.length||n.func.parameters[0].type!==E.code||1!==n.func.results.length||n.func.results[0].type!==E.string)throw Error(`bad user function #${e}(${null==n?void 0:n.name})`);const i=N.decode(new Uint8Array(s.instance.exports.memory.buffer,r,t)),a=JSON.parse(i);n.func.impl(a)},callUserFunc_string_R(e,t,r){const n=o.get(e);if(void 0===n||1!==n.func.parameters.length||n.func.parameters[0].type!==E.string||0!==n.func.results.length)throw Error(`bad user function #${e}(${null==n?void 0:n.name})`);const i=N.decode(new Uint8Array(s.instance.exports.memory.buffer,r,t));n.func.impl(i)},callUserFunc_R(e){const t=o.get(e);if(void 0===t||0!==t.func.parameters.length||0!==t.func.results.length)throw Error(`bad user function #${e}(${null==t?void 0:t.name})`);t.func.impl()},callUserFunc_i32_R(e,t){const r=o.get(e);if(void 0===r||1!==r.func.parameters.length||r.func.parameters[0].type!==E.i32||0!==r.func.results.length)throw Error(`bad user function #${e}(${null==r?void 0:r.name})`);r.func.impl(t)},get callUserFunc_bool_R(){return this.callUserFunc_i32_R},callUserFunc_i32_R_i32(e,t){const r=o.get(e);if(void 0===r||1!==r.func.parameters.length||r.func.parameters[0].type!==E.i32||1!==r.func.results.length||r.func.results[0].type!==E.i32)throw Error(`bad user function #${e}(${null==r?void 0:r.name})`);return r.func.impl(t)},callUserFunc_i32_i32_R_i32(e,t,r){const n=o.get(e);if(void 0===n||2!==n.func.parameters.length||n.func.parameters[0].type!==E.i32||n.func.parameters[1].type!==E.i32||1!==n.func.results.length||n.func.results[0].type!==E.i32)throw Error(`bad user function #${e}(${null==n?void 0:n.name})`);return n.func.impl(t,r)}}};s=await WebAssembly.instantiate(a,c),F=s;const u=s.instance.exports.main();console.log("exec result",u);O.encodeInto(JSON.stringify(u),new Uint8Array(A.instance.exports.memory.buffer,A.instance.exports.result_buffer,4096)),null===(n=t.onMainResult)||void 0===n||n.call(t,u),A.instance.exports.dvui_refresh()}}};return WebAssembly.instantiateStreaming(fetch(l),M).then((r=>{var n,l,d,h,p,m,v,w,g,E,S,T,F,P,C,N,M,I;A=r;const B=A.instance.exports;if(void 0!==(null==t||null===(n=t.preferences)||void 0===n||null===(l=n.graph)||void 0===l?void 0:l.origin)&&y(B.setOpt_preferences_graph_origin(t.preferences.graph.origin.x,t.preferences.graph.origin.y)),void 0!==(null==t||null===(d=t.preferences)||void 0===d||null===(h=d.graph)||void 0===h?void 0:h.scale)&&y(B.setOpt_preferences_graph_scale(t.preferences.graph.scale)),void 0!==(null==t||null===(p=t.preferences)||void 0===p||null===(m=p.graph)||void 0===m?void 0:m.scrollBarsVisible)&&y(B.setOpt_preferences_graph_scrollBarsVisible(t.preferences.graph.scrollBarsVisible?1:0)),void 0!==(null==t||null===(v=t.preferences)||void 0===v||null===(w=v.graph)||void 0===w?void 0:w.allowPanning)&&y(B.setOpt_preferences_graph_scrollBarsVisible(t.preferences.graph.allowPanning?1:0)),void 0!==(null==t||null===(g=t.preferences)||void 0===g||null===(E=g.topbar)||void 0===E?void 0:E.visible)&&y(B.setOpt_preferences_topbar_visible(t.preferences.topbar.visible?1:0)),void 0!==(null==t||null===(S=t.preferences)||void 0===S||null===(T=S.definitionsPanel)||void 0===T?void 0:T.visible)&&y(B.setOpt_preferences_definitionsPanel_visible(t.preferences.definitionsPanel.visible?1:0)),void 0!==(null==t||null===(F=t.preferences)||void 0===F||null===(P=F.definitionsPanel)||void 0===P?void 0:P.orientation)&&y(B.setOpt_preferences_definitionsPanel_orientation("left"===t.preferences.definitionsPanel.orientation?0:1)),void 0!==(null==t||null===(C=t.initState)||void 0===C?void 0:C.graphs))for(const[e,o]of Object.entries(t.initState.graphs)){const t=B.graphl_init_start-b,r=e.length,n=()=>new Uint8Array(B.memory.buffer,t,r);if(O.encodeInto(e,n()).read!==e.length)throw Error(`failed to write graph name '${e}'`);if(void 0!==o.notRemovable&&y(B.setInitState_graphs_notRemovable(t,r,o.notRemovable?1:0)),void 0!==o.nodes)for(let i=0;i<o.nodes.length;++i){const n=o.nodes[i];if(n.id<1||n.id!==Math.floor(n.id))throw Error(`BadNodeId: node id ${n.id} at index ${i} in graph '${e}'\nis not a non-negative integer. It may not be negative nor have a fraction.`);const a=()=>new Uint8Array(B.memory.buffer,t+e.length,n.type.length);if(O.encodeInto(n.type,a()).read!==n.type.length)throw Error(`failed to write node type '${n.type}'`);const s=t+e.length,c=n.type.length;y(B.setInitState_graphs_nodes_type(t,r,i,n.id,s,c)),n.position&&y(B.setInitState_graphs_nodes_pos(t,r,i,n.id,n.position.x,n.position.y));for(const[o,u]of Object.entries(null!==(j=n.inputs)&&void 0!==j?j:{})){var j;const a=Number(o);if(Number.isNaN(a)||a<0||a!==Math.floor(a))throw Error(`BadInputId: input id '${o}' on node #${n.id} at index ${i} in graph '${e}'\nis not a non-negative integer. It may not be negative nor have a fraction.`);if("symbol"in u||"string"in u){var z;const o=null!==(z=u.symbol)&&void 0!==z?z:u.string,c=()=>new Uint8Array(B.memory.buffer,s+n.type.length,o.length);if(O.encodeInto(o,c()).read!==o.length)throw Error(`failed to write value '${o}' for ${e}/${n.id}/${a}`);const l=s+n.type.length,f=o.length;y("symbol"in u?B.setInitState_graphs_nodes_input_symbol(t,r,i,n.id,a,l,f):B.setInitState_graphs_nodes_input_string(t,r,i,n.id,a,l,f))}else if("int"in u)y(B.setInitState_graphs_nodes_input_int(t,r,i,n.id,a,BigInt(u.int)));else if("float"in u)y(B.setInitState_graphs_nodes_input_float(t,r,i,n.id,a,u.float));else if("bool"in u)y(B.setInitState_graphs_nodes_input_bool(t,r,i,n.id,a,u.bool));else{if(!("node"in u))throw console.error("invalid input value:",u),Error(`BadInputValue: '${e}'/${n.id}/${a}`);y(B.setInitState_graphs_nodes_input_pin(t,r,i,n.id,a,u.node,u.outPin))}}}}const $=null!==(N=null==t||null===(M=t.bindings)||void 0===M||null===(I=M.jsHost)||void 0===I?void 0:I.functions)&&void 0!==N?N:{};for(const[e,t]of Object.entries($)){if(e.length>_)throw Error(`function name '${e}' is too long to be bound`);const r=()=>new Uint8Array(A.instance.exports.memory.buffer,A.instance.exports.graphl_init_start-b,_),n=O.encodeInto(e,r());if(n.read!==e.length)throw Error("failed to write func name");const i=t.parameters.length,a=t.results.length,s=A.instance.exports.createUserFunc(n.written,i,a);o.set(s,{name:e,func:t});for(let e=0;e<t.parameters.length;++e){const n=t.parameters[e],o=O.encodeInto(n.name,r());if(o.read!==n.name.length)throw Error("failed to write input name");A.instance.exports.addUserFuncInput(s,e,o.written,n.type)}for(let e=0;e<t.results.length;++e){const n=t.results[e],o=O.encodeInto(n.name,r());if(o.read!==n.name.length)throw Error("failed to write output name");A.instance.exports.addUserFuncOutput(s,e,o.written,n.type)}}const X=e;let H=document.createElement("div");if(H.style.position="relative",H.style.opacity=0,H.style.zIndex=-1,R=document.createElement("input"),R.classList.add("dvui-hidden-input"),R.style.position="absolute",R.style.left=window.scrollX+X.getBoundingClientRect().left+"px",R.style.top=window.scrollY+X.getBoundingClientRect().top+"px",H.appendChild(R),document.body.prepend(H),i=X.getContext("webgl2",{alpha:!0}),null===i&&(f=!1,i=X.getContext("webgl",{alpha:!0})),null===i)return void alert("Unable to initialize WebGL.");if(!f){if(null===i.getExtension("OES_element_index_uint"))return void alert("WebGL doesn't support OES_element_index_uint.")}x=i.createFramebuffer();const G=i.createShader(i.VERTEX_SHADER);if(f?i.shaderSource(G,"# version 300 es\n\n        precision mediump float;\n\n        in vec4 aVertexPosition;\n        in vec4 aVertexColor;\n        in vec2 aTextureCoord;\n\n        uniform mat4 uMatrix;\n\n        out vec4 vColor;\n        out vec2 vTextureCoord;\n\n        void main() {\n          gl_Position = uMatrix * aVertexPosition;\n          vColor = aVertexColor / 255.0;  // normalize u8 colors to 0-1\n          vTextureCoord = aTextureCoord;\n        }\n    "):i.shaderSource(G,"\n        precision mediump float;\n\n        attribute vec4 aVertexPosition;\n        attribute vec4 aVertexColor;\n        attribute vec2 aTextureCoord;\n\n        uniform mat4 uMatrix;\n\n        varying vec4 vColor;\n        varying vec2 vTextureCoord;\n\n        void main() {\n          gl_Position = uMatrix * aVertexPosition;\n          vColor = aVertexColor / 255.0;  // normalize u8 colors to 0-1\n          vTextureCoord = aTextureCoord;\n        }\n    "),i.compileShader(G),!i.getShaderParameter(G,i.COMPILE_STATUS))return alert(`Error compiling vertex shader: ${i.getShaderInfoLog(G)}`),i.deleteShader(G),null;const W=i.createShader(i.FRAGMENT_SHADER);if(f?i.shaderSource(W,"# version 300 es\n\n        precision mediump float;\n\n        in vec4 vColor;\n        in vec2 vTextureCoord;\n\n        uniform sampler2D uSampler;\n        uniform bool useTex;\n\n        out vec4 fragColor;\n\n        void main() {\n            if (useTex) {\n                fragColor = texture(uSampler, vTextureCoord) * vColor;\n            }\n            else {\n                fragColor = vColor;\n            }\n        }\n    "):i.shaderSource(W,"\n        precision mediump float;\n\n        varying vec4 vColor;\n        varying vec2 vTextureCoord;\n\n        uniform sampler2D uSampler;\n        uniform bool useTex;\n\n        void main() {\n            if (useTex) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;\n            }\n            else {\n                gl_FragColor = vColor;\n            }\n        }\n    "),i.compileShader(W),!i.getShaderParameter(W,i.COMPILE_STATUS))return alert(`Error compiling fragment shader: ${i.getShaderInfoLog(W)}`),i.deleteShader(W),null;if(c=i.createProgram(),i.attachShader(c,G),i.attachShader(c,W),i.linkProgram(c),!i.getProgramParameter(c,i.LINK_STATUS))return alert(`Error initializing shader program: ${i.getProgramInfoLog(c)}`),null;u={attribLocations:{vertexPosition:i.getAttribLocation(c,"aVertexPosition"),vertexColor:i.getAttribLocation(c,"aVertexColor"),textureCoord:i.getAttribLocation(c,"aTextureCoord")},uniformLocations:{matrix:i.getUniformLocation(c,"uMatrix"),uSampler:i.getUniformLocation(c,"uSampler"),useTex:i.getUniformLocation(c,"useTex")}},a=i.createBuffer(),s=i.createBuffer(),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.enable(i.SCISSOR_TEST),i.scissor(0,0,i.canvas.clientWidth,i.canvas.clientHeight);let V=!1,Y=0,q=!1;function K(){V=!1;const e=i.canvas.clientWidth,t=i.canvas.clientHeight;if(0===e||0===t)return;const r=window.devicePixelRatio;if(i.canvas.width=Math.round(e*r),i.canvas.height=Math.round(t*r),k=[i.drawingBufferWidth,i.drawingBufferHeight],i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.scissor(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT),!q){q=!0;let e=0,t=O.encode(navigator.platform);if(t.length>0){const r=A.instance.exports.gpa_u8(t.length);new Uint8Array(A.instance.exports.memory.buffer,r,t.length).set(t),e=A.instance.exports.app_init(r,t.length),A.instance.exports.gpa_free(r,t.length)}else e=A.instance.exports.app_init(0,0);if(0!=e)return void console.log("ERROR: app_init returned "+e)}let n=A.instance.exports.app_update();0==n?J():n>0&&(Y=setTimeout((function(){Y=0,J()}),n))}function J(){Y>0&&(clearTimeout(Y),Y=0),V||(V=!0,requestAnimationFrame(K))}X.addEventListener("contextmenu",(e=>{e.preventDefault()})),window.addEventListener("resize",(e=>{J()})),X.addEventListener("mousemove",(e=>{let t=X.getBoundingClientRect(),r=(e.clientX-t.left)/(t.right-t.left)*X.clientWidth,n=(e.clientY-t.top)/(t.bottom-t.top)*X.clientHeight;A.instance.exports.add_event(1,0,0,r,n),J()})),X.addEventListener("mousedown",(e=>{A.instance.exports.add_event(2,e.button,0,0,0),J()})),X.addEventListener("mouseup",(e=>{A.instance.exports.add_event(3,e.button,0,0,0),J(),U()})),X.addEventListener("wheel",(e=>{e.preventDefault(),A.instance.exports.add_event(4,0,0,e.deltaY,0),J()}));let Q=function(e){"Tab"==e.key&&e.preventDefault(),"F5"==e.key&&e.preventDefault();let t=O.encode(e.key);if(t.length>0){const r=A.instance.exports.arena_u8(t.length);new Uint8Array(A.instance.exports.memory.buffer,r,t.length).set(t),A.instance.exports.add_event(5,r,t.length,e.repeat,(e.metaKey<<3)+(e.altKey<<2)+(e.ctrlKey<<1)+(e.shiftKey|0)),J()}};X.addEventListener("keydown",Q),R.addEventListener("keydown",Q);let Z=function(e){const t=O.encode(e.key),r=A.instance.exports.arena_u8(t.length);new Uint8Array(A.instance.exports.memory.buffer,r,t.length).set(t),A.instance.exports.add_event(6,r,t.length,0,(e.metaKey<<3)+(e.altKey<<2)+(e.ctrlKey<<1)+(e.shiftKey|0)),J()};X.addEventListener("keyup",Z),R.addEventListener("keyup",Z),R.addEventListener("beforeinput",(e=>{if(e.preventDefault(),e.data){const t=O.encode(e.data),r=A.instance.exports.arena_u8(t.length);new Uint8Array(A.instance.exports.memory.buffer,r,t.length).set(t),A.instance.exports.add_event(7,r,t.length,0,0),J()}})),X.addEventListener("touchstart",(e=>{e.preventDefault();let t=X.getBoundingClientRect();for(let r=0;r<e.changedTouches.length;r++){let n=e.changedTouches[r],o=(n.clientX-t.left)/(t.right-t.left),i=(n.clientY-t.top)/(t.bottom-t.top),a=L(n.identifier);A.instance.exports.add_event(8,D[a][1],0,o,i)}J()})),X.addEventListener("touchend",(e=>{e.preventDefault();let t=X.getBoundingClientRect();for(let r=0;r<e.changedTouches.length;r++){let n=e.changedTouches[r],o=(n.clientX-t.left)/(t.right-t.left),i=(n.clientY-t.top)/(t.bottom-t.top),a=L(n.identifier);A.instance.exports.add_event(9,D[a][1],0,o,i),D.splice(a,1)}J(),U()})),X.addEventListener("touchmove",(e=>{e.preventDefault();let t=X.getBoundingClientRect();for(let r=0;r<e.changedTouches.length;r++){let n=e.changedTouches[r],o=(n.clientX-t.left)/(t.right-t.left),i=(n.clientY-t.top)/(t.bottom-t.top),a=L(n.identifier);A.instance.exports.add_event(10,D[a][1],0,o,i)}J()})),J()})),null!==(r=null===(n=t.preferences)||void 0===n?void 0:n.compiler.watOnly)&&void 0!==r&&r||Promise.resolve().then((()=>(v(),h))).then((e=>e.default())).then((e=>{globalThis._wasmOpt=e,T=e})),{_setLastCompiled(e){F=e},functions:new Proxy({},{get(e,t,r){var n;if("string"!=typeof t)throw Error("function names are strings");return null===(n=A)||void 0===n?void 0:n.instance.exports._runCurrentGraphs}})}}},7761:function(e,t,r){e.exports=r.p+"c053546617ae577377de.wasm"},9306:function(e,t,r){"use strict";var n=r(4901),o=r(9204),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a function")}},8551:function(e,t,r){"use strict";var n=r(34),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not an object")}},6699:function(e,t,r){"use strict";var n=r(3724),o=r(4913),i=r(6980);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,r){"use strict";var n=r(283),o=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},9433:function(e,t,r){"use strict";var n=r(4576),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},3724:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,r){"use strict";var n=r(4576),o=r(34),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},2839:function(e,t,r){"use strict";var n=r(4576).navigator,o=n&&n.userAgent;e.exports=o?String(o):""},9519:function(e,t,r){"use strict";var n,o,i=r(4576),a=r(2839),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},616:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,r){"use strict";var n=r(616),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},350:function(e,t,r){"use strict";var n=r(3724),o=r(9297),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},9504:function(e,t,r){"use strict";var n=r(616),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},7751:function(e,t,r){"use strict";var n=r(4576),o=r(4901);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},5966:function(e,t,r){"use strict";var n=r(9306),o=r(4117);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},4576:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){"use strict";var n=r(9504),o=r(8981),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},421:function(e){"use strict";e.exports={}},5917:function(e,t,r){"use strict";var n=r(3724),o=r(9039),i=r(4055);e.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},3706:function(e,t,r){"use strict";var n=r(9504),o=r(4901),i=r(7629),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},1181:function(e,t,r){"use strict";var n,o,i,a=r(8622),s=r(4576),c=r(34),u=r(6699),l=r(9297),f=r(7629),d=r(6119),h=r(421),p="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||f.state){var w=f.state||(f.state=new v);w.get=w.get,w.has=w.has,w.set=w.set,n=function(e,t){if(w.has(e))throw new m(p);return t.facade=e,w.set(e,t),t},o=function(e){return w.get(e)||{}},i=function(e){return w.has(e)}}else{var g=d("state");h[g]=!0,n=function(e,t){if(l(e,g))throw new m(p);return t.facade=e,u(e,g,t),t},o=function(e){return l(e,g)?e[g]:{}},i=function(e){return l(e,g)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return r}}}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4117:function(e){"use strict";e.exports=function(e){return null==e}},34:function(e,t,r){"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},8776:function(e){"use strict";e.exports=!1},757:function(e,t,r){"use strict";var n=r(7751),o=r(4901),i=r(1625),a=r(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},283:function(e,t,r){"use strict";var n=r(9504),o=r(9039),i=r(4901),a=r(9297),s=r(3724),c=r(350).CONFIGURABLE,u=r(3706),l=r(1181),f=l.enforce,d=l.get,h=String,p=Object.defineProperty,m=n("".slice),v=n("".replace),w=n([].join),g=s&&!o((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,r){"Symbol("===m(h(t),0,7)&&(t="["+v(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),g&&r&&a(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var n=f(e);return a(n,"source")||(n.source=w(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return i(this)&&d(this).source||u(this)}),"toString")},4913:function(e,t,r){"use strict";var n=r(3724),o=r(5917),i=r(8686),a=r(8551),s=r(6969),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=l(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:f in r?r[f]:n[f],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return u(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1625:function(e,t,r){"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},4270:function(e,t,r){"use strict";var n=r(9565),o=r(4901),i=r(34),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},7979:function(e,t,r){"use strict";var n=r(8551);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},7750:function(e,t,r){"use strict";var n=r(4117),o=TypeError;e.exports=function(e){if(n(e))throw new o("Can't call method on "+e);return e}},6119:function(e,t,r){"use strict";var n=r(5745),o=r(3392),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},7629:function(e,t,r){"use strict";var n=r(8776),o=r(4576),i=r(9433),a="__core-js_shared__",s=e.exports=o[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},6876:function(e,t,r){"use strict";var n=r(9519),o=r(9039),i=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8981:function(e,t,r){"use strict";var n=r(7750),o=Object;e.exports=function(e){return o(n(e))}},2777:function(e,t,r){"use strict";var n=r(9565),o=r(34),i=r(757),a=r(5966),s=r(4270),c=r(8227),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,c=a(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,r){"use strict";var n=r(2777),o=r(757);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},9204:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},3392:function(e,t,r){"use strict";var n=r(9504),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},7040:function(e,t,r){"use strict";var n=r(6876);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){"use strict";var n=r(3724),o=r(9039);e.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(e,t,r){"use strict";var n=r(4576),o=r(4901),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},8227:function(e,t,r){"use strict";var n=r(4576),o=r(5745),i=r(9297),a=r(3392),s=r(6876),c=r(7040),u=n.Symbol,l=o("wks"),f=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=s&&i(u,e)?u[e]:f("Symbol."+e)),l[e]}},9479:function(e,t,r){"use strict";var n=r(4576),o=r(3724),i=r(2106),a=r(7979),s=r(9039),c=n.RegExp,u=c.prototype;o&&s((function(){var e=!0;try{c(".","d")}catch(s){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",o=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(i.hasIndices="d"),i)o(a,i[a]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==n||r!==n}))&&i(u,"flags",{configurable:!0,get:a})}}]);